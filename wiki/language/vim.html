<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
        <title>Vim - Wiki</title>
        <meta name="keywords" content="simiki, wiki"/>
        <meta name="description" content=""/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <!-- Google Tag Manager -->
        <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-P6VTG4"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-P6VTG4');</script>
        <!-- End Google Tag Manager -->

    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/wiki/">Home</a>&nbsp;»&nbsp;<a href="/wiki/#language">language</a>&nbsp;»&nbsp;Vim</div>
</div>
<div class="clearfix"></div>
<div id="title">Vim</div>
  <div id="content">
  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#move-in-document">Move in document</a></li>
<li><a href="#motion-in-document">Motion in document</a></li>
<li><a href="#register">Register</a></li>
<li><a href="#dance-with-command">Dance with Command</a></li>
<li><a href="#insert-datetime">Insert datetime</a></li>
<li><a href="#code-snippets">Code snippets</a><ul>
<li><a href="#beancount">beancount</a><ul>
<li><a href="#date-shorthand">Date shorthand</a></li>
<li><a href="#add-balance">Add balance</a></li>
<li><a href="#add-note">Add note</a></li>
<li><a href="#add-query">Add query</a></li>
<li><a href="#general-transaction">General transaction</a></li>
<li><a href="#house-rent">House rent</a></li>
<li><a href="#car-installment">Car installment</a></li>
<li><a href="#salary">Salary</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="move-in-document">Move in document</h2>
<ul>
<li><code>gj</code> move down display line, if <code>:set wrap</code> and one line split into lines, this move will be downward to display instead of line number+1. Try it.</li>
</ul>
<h2 id="motion-in-document">Motion in document</h2>
<ul>
<li>
<p>Use <code>d{motion}</code>, <code>y{motion}</code> and so on. <code>{motion}</code> can be following:</p>
<ul>
<li><code>iw</code> current <a href="#word" title="word is combined with alphabet, number, underscore, other non-spacing char. e.g.: `e.g.` which are four words.">word</a>(<code>:h word</code> see detail)</li>
<li><code>aw</code> current word and a space</li>
<li><code>iW</code> current <a href="#WORD" title="WORD is splited with space.">WORD</a></li>
<li><code>aW</code> current WORD and a space</li>
<li><code>is</code> current sentence</li>
<li><code>as</code> current sentence and a space</li>
<li><code>ip</code> current paragraph</li>
<li><code>iP</code> current paragraph and a space</li>
</ul>
</li>
<li>
<p>Use these as memory shortcut:</p>
<ul>
<li><code>i</code>nside</li>
<li><code>a</code>round</li>
<li><code>w</code>ord</li>
<li><code>s</code>entence</li>
<li><code>p</code>aragraph</li>
</ul>
</li>
</ul>
<h2 id="register">Register</h2>
<ul>
<li>
<p><code>"{register}"</code> use with register, following is some registers(<code>:h registers</code>):</p>
<ul>
<li><code>""</code> unnamed register, use <code>x</code>, <code>d</code> will cut content into this</li>
<li><code>"_</code> black hole, like <code>/dev/null</code></li>
<li><code>"+</code> system clipboard, like <code>ctrl-c</code>, then use <code>"+y</code> will paste content in vim</li>
</ul>
</li>
<li>
<p><code>q{register}q</code> will clear a register content</p>
</li>
</ul>
<h2 id="dance-with-command">Dance with Command</h2>
<ol>
<li><code>q:</code> open command window when normal mode, you can edit history of command or re-reun it while press <code>&lt;CR&gt;</code></li>
<li><code>&lt;c-f&gt;</code> open command window when command mode</li>
<li>If you need copy current word under cursor when command mode, press <code>&lt;c-r&gt;&lt;c-w&gt;</code>. <code>&lt;c-r&gt;&lt;c-a&gt;</code> for whole <a href="#WORD" title="WORD is splited with space.">WORD</a></li>
<li>
<p>Consider below situation:</p>
<p>You want to replace something with regex, but you may need construct regex many times, and then use <code>:s/regex/replace/g</code></p>
<p>Here is solution:</p>
<ol>
<li>Use <code>/regex1</code> to match and see the result</li>
<li>The result is not what I want, change it with <code>/regex2</code></li>
<li>You can use <code>q/</code> to find command history, repeat step 2-3 until perfect match</li>
<li><code>:%s//replace/g</code>. if pattern is omit it will use last match.</li>
</ol>
</li>
</ol>
<h2 id="insert-datetime">Insert datetime</h2>
<div class="hlcode"><pre><span></span>`strftime(&quot;%Y%m%d&quot;, localtime())`  # Notice anti-quote
</pre></div>


<h1 id="code-snippets">Code snippets</h1>
<h2 id="beancount">beancount</h2>
<h3 id="date-shorthand">Date shorthand</h3>
<div class="hlcode"><pre><span></span>snippet dt &quot;date YYYY-mm-dd&quot;
    <span class="cp">${</span><span class="mi">3</span><span class="p">:</span><span class="sb">`strftime(&quot;%Y&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">2</span><span class="p">:</span><span class="sb">`strftime(&quot;%m&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">1</span><span class="p">:</span><span class="sb">`strftime(&quot;%d&quot;)`</span><span class="cp">}</span> 
</pre></div>


<h3 id="add-balance">Add balance</h3>
<p>This will add a <code>balance</code> for an account and auto <code>pad</code> it.</p>
<div class="hlcode"><pre><span></span>snippet bal
    <span class="cp">${</span><span class="mi">9</span><span class="p">:</span><span class="sb">`strftime(&quot;%Y&quot;, localtime()-86400)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">8</span><span class="p">:</span><span class="sb">`strftime(&quot;%m&quot;, localtime()-86400)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">7</span><span class="p">:</span><span class="sb">`strftime(&quot;%d&quot;, localtime()-86400)`</span><span class="cp">}</span> pad $2 <span class="cp">${</span><span class="mi">3</span><span class="p">:</span><span class="n">Equity</span><span class="p">:</span><span class="n">Opening</span><span class="o">-</span><span class="n">Balances</span><span class="cp">}</span>
    <span class="cp">${</span><span class="mi">6</span><span class="p">:</span><span class="sb">`strftime(&quot;%Y&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">5</span><span class="p">:</span><span class="sb">`strftime(&quot;%m&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">4</span><span class="p">:</span><span class="sb">`strftime(&quot;%d&quot;)`</span><span class="cp">}</span> balance <span class="cp">${</span><span class="mi">2</span><span class="p">:</span><span class="n">Assets</span><span class="p">:</span><span class="n">Cash</span><span class="cp">}</span>               <span class="cp">${</span><span class="mi">1</span><span class="cp">}</span> CNY
</pre></div>


<h3 id="add-note">Add note</h3>
<div class="hlcode"><pre><span></span>snippet note
    <span class="cp">${</span><span class="mi">9</span><span class="p">:</span><span class="sb">`strftime(&quot;%Y&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">8</span><span class="p">:</span><span class="sb">`strftime(&quot;%m&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">7</span><span class="p">:</span><span class="sb">`strftime(&quot;%d&quot;)`</span><span class="cp">}</span> note <span class="cp">${</span><span class="mi">3</span><span class="p">:</span><span class="n">Assets</span><span class="p">:</span><span class="n">Cash</span><span class="cp">}</span> &quot;<span class="cp">${</span><span class="mi">1</span><span class="cp">}</span> <span class="cp">${</span><span class="mi">2</span><span class="cp">}</span> CNY&quot;
</pre></div>


<h3 id="add-query">Add query</h3>
<div class="hlcode"><pre><span></span>snippet query
    <span class="cp">${</span><span class="mi">9</span><span class="p">:</span><span class="sb">`strftime(&quot;%Y&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">8</span><span class="p">:</span><span class="sb">`strftime(&quot;%m&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">7</span><span class="p">:</span><span class="sb">`strftime(&quot;%d&quot;)`</span><span class="cp">}</span> query &quot;<span class="cp">${</span><span class="mi">1</span><span class="cp">}</span>&quot; &quot;
                SELECT <span class="cp">${</span><span class="mi">2</span><span class="cp">}</span> WHERE <span class="cp">${</span><span class="mi">3</span><span class="cp">}</span>
    &quot;
</pre></div>


<h3 id="general-transaction">General transaction</h3>
<div class="hlcode"><pre><span></span>snippet new
    <span class="cp">${</span><span class="mi">7</span><span class="p">:</span><span class="sb">`strftime(&quot;%Y&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">6</span><span class="p">:</span><span class="sb">`strftime(&quot;%m&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">5</span><span class="p">:</span><span class="sb">`strftime(&quot;%d&quot;)`</span><span class="cp">}</span> * &quot;<span class="cp">${</span><span class="mi">1</span><span class="cp">}</span>&quot;
                <span class="cp">${</span><span class="mi">2</span><span class="p">:</span><span class="n">Assets</span><span class="p">:</span><span class="n">Cash</span><span class="cp">}</span>            -<span class="cp">${</span><span class="mi">3</span><span class="cp">}</span> CNY
                <span class="cp">${</span><span class="mi">4</span><span class="cp">}</span>
</pre></div>


<h3 id="house-rent">House rent</h3>
<p>This records house rent monthly.</p>
<div class="hlcode"><pre><span></span>snippet house &quot;house rent&quot;
    <span class="cp">${</span><span class="mi">8</span><span class="p">:</span><span class="sb">`strftime(&quot;%Y&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">7</span><span class="p">:</span><span class="sb">`strftime(&quot;%m&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">6</span><span class="p">:</span><span class="sb">`strftime(&quot;%d&quot;)`</span><span class="cp">}</span> * &quot;House rent <span class="cp">${</span><span class="mi">9</span><span class="p">:</span><span class="sb">`strftime(&quot;%Y/%m&quot;, localtime()-86400*30)`</span><span class="cp">}</span>&quot;
                Assets:Alipay:YuE                       -3000 CNY
                Assets:Big:House
</pre></div>


<h3 id="car-installment">Car installment</h3>
<p>This records a car installment and you can record this is which period. You need replace <code>$Bank</code> to your bank.</p>
<div class="hlcode"><pre><span></span>snippet car &quot;car installment&quot;
    <span class="cp">${</span><span class="mi">4</span><span class="p">:</span><span class="sb">`strftime(&quot;%Y&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">3</span><span class="p">:</span><span class="sb">`strftime(&quot;%m&quot;)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">2</span><span class="p">:</span><span class="sb">`strftime(&quot;%d&quot;)`</span><span class="cp">}</span> * &quot;Car amortization <span class="cp">${</span><span class="mi">1</span><span class="cp">}</span>/24&quot;
                Liabilities:<span class="nv">$Bank</span>:CreditCard         -2000.00 CNY
                Assets:Big:Car
</pre></div>


<h3 id="salary">Salary</h3>
<p>This is my salary template, it including social insurance and income tax,<br />
you need change <code>$Company</code> to your company name and <code>$Bank</code> as same. <code>Vacation</code> is your loss because personal leave.</p>
<div class="hlcode"><pre><span></span>snippet sal &quot;salary&quot;
    <span class="cp">${</span><span class="mi">8</span><span class="p">:</span><span class="sb">`strftime(&quot;%Y&quot;, localtime()-86400)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">7</span><span class="p">:</span><span class="sb">`strftime(&quot;%m&quot;, localtime()-86400)`</span><span class="cp">}</span>-<span class="cp">${</span><span class="mi">6</span><span class="p">:</span><span class="sb">`strftime(&quot;%d&quot;, localtime()-86400)`</span><span class="cp">}</span> * &quot;<span class="cp">${</span><span class="mi">9</span><span class="p">:</span><span class="sb">`strftime(&quot;%Y/%m&quot;, localtime()-86400*30)`</span><span class="cp">}</span> salary&quot;
                Income:<span class="nv">$Company</span>:Salary              -<span class="cp">${</span><span class="mi">1</span><span class="p">:</span><span class="mi">10000</span><span class="cp">}</span> CNY
                Expenses:Government:SocialInsurance <span class="cp">${</span><span class="mi">2</span><span class="cp">}</span> CNY
                Expenses:Government:HouseFund       <span class="cp">${</span><span class="mi">3</span><span class="cp">}</span> CNY
                Expenses:Government:IncomeTax       <span class="cp">${</span><span class="mi">4</span><span class="cp">}</span> CNY
                Expenses:<span class="nv">$Company</span>:Vacation          <span class="cp">${</span><span class="mi">5</span><span class="p">:</span><span class="mi">0</span><span class="cp">}</span> CNY
                Assets:<span class="nv">$Bank</span>:Saving
</pre></div>
</div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2012-2019 MoreFreeze.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
            </span>
        </div>
        
    </body>
</html>